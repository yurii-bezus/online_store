{"version":3,"file":"index.js","sources":["../src/js/products-api.js","../src/js/refs.js","../src/js/render-function.js","../src/home.js"],"sourcesContent":["// Функції для роботи з бекендом\nimport axios from 'axios';\naxios.defaults.baseURL = 'https://dummyjson.com';\n\nexport async function fetchCategories() {\n  const response = await axios.get('/products/category-list');\n  console.log(response);\n  return response.data;\n}\n\nexport async function fetchProducts() {\n  const currentPage = 1;\n  const url = `https://dummyjson.com/products?limit=12&skip=${\n    (currentPage - 1) * 12\n  }`;\n\n  const response = await axios.get(url);\n  return response.data.products;\n}\n\nexport async function getProductsByCategory(category) {\n  const response = await axios.get(`products/category/${category}`);\n  console.log(response);\n\n  return response.data.products;\n}\n","//Обʼєкт з посиланнями на ДОМ елементи\n\nexport const refs = {\n  allCategories: document.querySelector('.categories'),\n  allProducts: document.querySelector('.products'),\n  notFound: document.querySelector('.not-found'),\n};\n","//Функцію для створення, рендеру або видалення розмітки\nimport { refs } from './refs';\n\nexport function markupCategories(categories) {\n  refs.allCategories.innerHTML = '';\n  const markup = categories\n    .map(\n      category => `<li class=\"categories__item\">\n   <button class=\"categories__btn\" type=\"button\">${category}</button>\n </li>`\n    )\n    .join('');\n  refs.allCategories.innerHTML = markup;\n}\n\nexport function markupProducts(products) {\n  if (products.length === 0) {\n    refs.notFound.classList.add('not-found--visible');\n    return;\n  }\n  refs.notFound.classList.remove('not-found--visible');\n\n  refs.allProducts.innerHTML = '';\n  const markup = products\n    .map(\n      product => `<li class=\"products__item\" data-id=\"${products.id}\">\n    <img class=\"products__image\" src=\"${product.images[0]}\" alt=\"${product.title}\"/>\n    <p class=\"products__title\">${product.title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand:${product.brand}</span></p>\n    <p class=\"products__category\">Category:${product.category} </p>\n    <p class=\"products__price\">Price:${product.price} $</p>\n </li>\n`\n    )\n    .join('');\n  refs.allProducts.innerHTML = markup;\n}\n","//Логіка сторінки Home\nimport {\n  fetchCategories,\n  fetchProducts,\n  getProductsByCategory,\n} from './js/products-api';\nimport { refs } from './js/refs';\nimport { markupCategories, markupProducts } from './js/render-function';\n\nasync function renderCategories() {\n  const categories = await fetchCategories();\n  const allCategories = ['All', ...categories];\n  markupCategories(allCategories);\n}\nrenderCategories();\n\nasync function renderProducts() {\n  const products = await fetchProducts();\n  markupProducts(products);\n}\nrenderProducts();\n\n// refs.allCategories.addEventListener('click', async event => {\n//   const clickBtn = event.target.closest('.categories__btn');\n//   const catName = clickBtn.textContent.trim();\n//   if (!clickBtn) {\n// return;}\n\n//   if (catName === 'All') {\n//     const response = await fetchProducts();\n//     markupProducts(response);\n//   } else {\n//     getProductsByCategory(catName);\n//   }\n//   const products = await getProductsByCategory(clickBtn.textContent);\n//   markupProducts(products);\n// });\nrefs.allCategories.addEventListener('click', async event => {\n  const clickBtn = event.target.closest('.categories__btn');\n  if (!clickBtn) return;\n\n  const catName = clickBtn.textContent.trim();\n\n  try {\n    let products = [];\n\n    if (catName === 'All') {\n      products = await fetchProducts();\n    } else {\n      products = await getProductsByCategory(catName);\n    }\n\n    markupProducts(products);\n  } catch (error) {\n    console.error('Error loading products:', error);\n  }\n});\n"],"names":["axios","fetchCategories","response","fetchProducts","getProductsByCategory","category","refs","markupCategories","categories","markup","markupProducts","products","product","renderCategories","allCategories","renderProducts","event","clickBtn","catName","error"],"mappings":"+EAEAA,EAAM,SAAS,QAAU,wBAElB,eAAeC,GAAkB,CACtC,MAAMC,EAAW,MAAMF,EAAM,IAAI,yBAAyB,EAC1D,eAAQ,IAAIE,CAAQ,EACbA,EAAS,IAClB,CAEO,eAAeC,GAAgB,CAOpC,OADiB,MAAMH,EAAM,IAJjB,gDAIwB,GACpB,KAAK,QACvB,CAEO,eAAeI,EAAsBC,EAAU,CACpD,MAAMH,EAAW,MAAMF,EAAM,IAAI,qBAAqBK,CAAQ,EAAE,EAChE,eAAQ,IAAIH,CAAQ,EAEbA,EAAS,KAAK,QACvB,CCvBO,MAAMI,EAAO,CAClB,cAAe,SAAS,cAAc,aAAa,EACnD,YAAa,SAAS,cAAc,WAAW,EAC/C,SAAU,SAAS,cAAc,YAAY,CAC/C,ECHO,SAASC,EAAiBC,EAAY,CAC3CF,EAAK,cAAc,UAAY,GAC/B,MAAMG,EAASD,EACZ,IACCH,GAAY;AAAA,mDACiCA,CAAQ;AAAA,OAEtD,EACA,KAAK,EAAE,EACVC,EAAK,cAAc,UAAYG,CACjC,CAEO,SAASC,EAAeC,EAAU,CACvC,GAAIA,EAAS,SAAW,EAAG,CACzBL,EAAK,SAAS,UAAU,IAAI,oBAAoB,EAChD,MACD,CACDA,EAAK,SAAS,UAAU,OAAO,oBAAoB,EAEnDA,EAAK,YAAY,UAAY,GAC7B,MAAMG,EAASE,EACZ,IACCC,GAAW,uCAAuCD,EAAS,EAAE;AAAA,wCAC3BC,EAAQ,OAAO,CAAC,CAAC,UAAUA,EAAQ,KAAK;AAAA,iCAC/CA,EAAQ,KAAK;AAAA,2EAC6BA,EAAQ,KAAK;AAAA,6CAC3CA,EAAQ,QAAQ;AAAA,uCACtBA,EAAQ,KAAK;AAAA;AAAA,CAG/C,EACA,KAAK,EAAE,EACVN,EAAK,YAAY,UAAYG,CAC/B,CC3BA,eAAeI,GAAmB,CAEhC,MAAMC,EAAgB,CAAC,MAAO,GADX,MAAMb,GACkB,EAC3CM,EAAiBO,CAAa,CAChC,CACAD,IAEA,eAAeE,GAAiB,CAC9B,MAAMJ,EAAW,MAAMR,IACvBO,EAAeC,CAAQ,CACzB,CACAI,IAiBAT,EAAK,cAAc,iBAAiB,QAAS,MAAMU,GAAS,CAC1D,MAAMC,EAAWD,EAAM,OAAO,QAAQ,kBAAkB,EACxD,GAAI,CAACC,EAAU,OAEf,MAAMC,EAAUD,EAAS,YAAY,KAAI,EAEzC,GAAI,CACF,IAAIN,EAAW,CAAA,EAEXO,IAAY,MACdP,EAAW,MAAMR,IAEjBQ,EAAW,MAAMP,EAAsBc,CAAO,EAGhDR,EAAeC,CAAQ,CACxB,OAAQQ,EAAO,CACd,QAAQ,MAAM,0BAA2BA,CAAK,CAC/C,CACH,CAAC"}